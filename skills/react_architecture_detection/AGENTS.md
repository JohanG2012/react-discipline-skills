<!--
DO NOT EDIT THIS FILE DIRECTLY.

This file is generated from ./rules/*.md
Edit the rule source files instead, then recompile.

Generated on: 2026-02-23
-->

# React Architecture Detection â€” Agent Rules

## Table of contents
- [Summary](#summary)
- [Rule: Skill Scope Definition](#rule-skill-scope-definition)
- [Summary](#summary)
- [Rule: Deterministic Signal Scan](#rule-deterministic-signal-scan)
- [Summary](#summary)
- [Rule: Structured Output](#rule-structured-output)

## Overview
This document defines the authoritative rules for agents/LLMs using the `react_architecture_detection` skill.

Key constraints:
- Follow `agent_policy_v1` unless explicitly overridden by an allowed migration strategy.
- If a rule references a rule ID, the rule ID must be followed exactly.

## Rule index
- rad-overview-scope
- rad-process
- rad-output

---

# Overview

## Summary

This document defines the authoritative rules for the `react_architecture_detection` skill.

This skill operates under:
- `agent_policy_v1` (mandatory baseline policy)

All rules defined here are binding for agents and LLMs using this skill.

---

## Rule: Skill Scope Definition
**Rule ID:** rad-overview-scope  
**Priority:** MUST  
**Applies to:** react_architecture_detection  
**Rationale:** Ensures architecture detection stays within its defined responsibility.

### Requirement

- The skill must focus on detecting repository structure and gravity.
- The skill must not make placement decisions beyond reporting signals.
- The skill must not modify repository structure.

### Forbidden

- Recommending migrations without explicit instruction.
- Editing files as part of detection.

### Notes

- If signals are ambiguous, report uncertainty and recommend follow-up.

---

# Detection Process

## Summary
Defines how to scan repositories for architecture signals.

---

## Rule: Deterministic Signal Scan
**Rule ID:** rad-process  
**Priority:** MUST  
**Applies to:** react_architecture_detection  
**Rationale:** Ensures consistent detection across runs.

### Requirement

- Scan routing, UI, data access, and domain boundaries.
- Record the primary structure and gravity signals.
- Use deterministic defaults when multiple signals conflict.

### Forbidden

- Ignoring clear existing conventions.
- Introducing new conventions during detection.

### Notes

- If no clear signal exists, classify as flat/ad-hoc and state assumptions.

---

# Output Contract

## Summary
Defines the expected output structure for architecture detection.

---

## Rule: Structured Output
**Rule ID:** rad-output  
**Priority:** MUST  
**Applies to:** react_architecture_detection  
**Rationale:** Ensures downstream skills can consume outputs reliably.

### Requirement

- Output must include repository classification and gravity summary.
- Output must list key detected paths and conventions.
- Output must include any assumptions or uncertainties in notes.

### Forbidden

- Omitting core classification fields.
- Returning unstructured prose instead of structured output.

### Notes

- Keep notes concise and limited to high-impact uncertainties.
